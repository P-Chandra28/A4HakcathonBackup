<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Diabetes Data Visualizations</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body {
      background-color: #e6f2ff;
      font-family: Arial, sans-serif;
      padding: 40px;
      text-align: center;
    }
    .chart-container {
      width: 100%;
      max-width: 1100px;
      margin: 40px auto;
    }
    h2 {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

  <h2>A1C Test Results (Readmission = Yes)</h2>
  <div id="chart" class="chart-container"></div>

  <h2>Age Group Distribution</h2>
  <div id="ageChart" class="chart-container"></div>

  <h2>Time in Hospital Distribution</h2>
  <div id="hospitalChart" class="chart-container"></div>

  <h2>Diabetes Medication Status (Readmission = Yes)</h2>
  <div id="medicationChart" class="chart-container"></div>

  <h2>Primary Diagnosis (diag_1) Distribution</h2>
  <div id="diag1Chart" class="chart-container"></div>

  <h2>Secondary Diagnosis (diag_2) Distribution</h2>
  <div id="diag2Chart" class="chart-container"></div>

  <h2>Inpatient Visits Distribution</h2>
  <div id="inpatientChart" class="chart-container"></div>

  <h2>Tertiary Diagnosis (diag_3) Distribution</h2>
  <div id="diag3Chart" class="chart-container"></div>

  <h2>Glucose Test Results (Readmission = Yes)</h2>
  <div id="glucoseChart" class="chart-container"></div>

  <h2>Medication Change Status (Readmission = Yes)</h2>
  <div id="medChangeChart" class="chart-container"></div>

  <h2>Emergency Visits Distribution (Readmission = Yes)</h2>
  <div id="emergencyChart" class="chart-container"></div>

  <h2>Readmission Distribution</h2>
  <div id="readmissionChart" class="chart-container"></div>

  <h2>Medications Distribution (Line Chart)</h2>
  <div id="medicationsDistributionChart" class="chart-container"></div>

  <!-- New added charts -->
  <h2>Outpatient Visits Distribution (Readmission = Yes)</h2>
  <div id="outpatientChart" class="chart-container"></div>

  <h2>Procedures Distribution</h2>
  <div id="proceduresChart" class="chart-container"></div>

<script>
  // Chart 1: A1C Test Results
  Plotly.newPlot('chart', [{
    x: ['no', 'high', 'normal'],
    y: [9935, 1299, 520],
    text: [9935, 1299, 520],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [9935, 1299, 520],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'A1C Test Result' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 2: Age Group Distribution
  Plotly.newPlot('ageChart', [{
    x: ['[40-50]', '[50-60]', '[60-70]', '[70-80]', '[80-90]', '[90-100]'],
    y: [2532, 4452, 5913, 6837, 4516, 750],
    text: [2532, 4452, 5913, 6837, 4516, 750],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [2532, 4452, 5913, 6837, 4516, 750],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Age Group' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 3: Time in Hospital
  Plotly.newPlot('hospitalChart', [{
    x: ['1','2','3','4','5','6','7','8','9','10','11','12','13','14'],
    y: [3480, 3986, 4311, 3467, 2542, 1895, 1467, 1104, 768, 588, 458, 354, 299, 281],
    text: [3480, 3986, 4311, 3467, 2542, 1895, 1467, 1104, 768, 588, 458, 354, 299, 281],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [3480, 3986, 4311, 3467, 2542, 1895, 1467, 1104, 768, 588, 458, 354, 299, 281],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Days in Hospital' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 4: Diabetes Medication Status
  Plotly.newPlot('medicationChart', [{
    x: ['yes', 'no'],
    y: [9367, 2387],
    text: [9367, 2387],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [9367, 2387],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Diabetes Medication (Yes/No)' },
    yaxis: { title: 'Patient Count (Readmitted = Yes)' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 5: Primary Diagnosis (diag_1)
  Plotly.newPlot('diag1Chart', [{
    x: ['Circulatory', 'Other', 'Respiratory', 'Digestive', 'Diabetes', 'Injury', 'Musculoskeletal'],
    y: [7824, 6498, 3680, 2329, 1750, 1667, 1252],
    text: [7824, 6498, 3680, 2329, 1750, 1667, 1252],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [7824, 6498, 3680, 2329, 1750, 1667, 1252],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Diagnosis Code' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 6: Secondary Diagnosis (diag_2)
  Plotly.newPlot('diag2Chart', [{
    x: ['Other', 'Circulatory', 'Diabetes', 'Respiratory', 'Digestive', 'Injury', 'Musculoskeletal'],
    y: [9069, 8141, 2909, 2873, 982, 598, 428],
    text: [9069, 8141, 2909, 2873, 982, 598, 428],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [9069, 8141, 2909, 2873, 982, 598, 428],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Diagnosis Code' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 7: Inpatient Visits
  Plotly.newPlot('inpatientChart', [{
    x: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],
    y: [16537,4926,1909,833,358,211,104,47,26,20,12,8,3,2,2,2],
    text: [16537,4926,1909,833,358,211,104,47,26,20,12,8,3,2,2,2],
    textposition: 'outside',
    type: 'bar',
    marker: {
      color: [16537,4926,1909,833,358,211,104,47,26,20,12,8,3,2,2,2],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Number of Inpatient Visits' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 8: Tertiary Diagnosis (diag_3)
  Plotly.newPlot('diag3Chart', [{
    x: ['Other', 'Circulatory', 'Diabetes', 'Respiratory', 'Digestive', 'Injury', 'Musculoskeletal'],
    y: [9146, 7733, 4273, 1916, 964, 508, 460],
    text: [9146, 7733, 4273, 1916, 964, 508, 460],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [9146, 7733, 4273, 1916, 964, 508, 460],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Diagnosis Code', tickangle: -45 },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 9: Glucose Test Results (Readmission = Yes)
  Plotly.newPlot('glucoseChart', [{
    x: ['None', 'Norm', '>200', '>300'],
    y: [10250, 849, 342, 247],
    text: [10250, 849, 342, 247],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [10250, 849, 342, 247],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Glucose Test Result' },
    yaxis: { title: 'Patient Count (Readmitted = Yes)' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 10: Medication Change Status (Readmission = Yes)
  Plotly.newPlot('medChangeChart', [{
    x: ['Ch', 'No'],
    y: [4297, 5452],
    text: [4297, 5452],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [4297, 5452],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Medication Change Status' },
    yaxis: { title: 'Patient Count (Readmitted = Yes)' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 11: Emergency Visits Distribution (Readmission = Yes)
  Plotly.newPlot('emergencyChart', [{
    x: [0,1,2,3,4,5,6],
    y: [12606, 4048, 1236, 507, 262, 145, 54],
    text: [12606, 4048, 1236, 507, 262, 145, 54],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [12606, 4048, 1236, 507, 262, 145, 54],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Number of Emergency Visits' },
    yaxis: { title: 'Patient Count (Readmitted = Yes)' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 12: Readmission Distribution
  Plotly.newPlot('readmissionChart', [{
    x: ['No', 'Yes'],
    y: [10925, 5385],
    text: [10925, 5385],
    textposition: 'auto',
    type: 'bar',
    marker: {
      color: [10925, 5385],
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Readmission Status' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 40 }
  });

  // Chart 13: Medications Distribution (Line Chart)
  const medXValues = Array.from({length: 80}, (_, i) => i);  // 0 to 79

  const medYValues = [
    0, 5, 7, 10, 15, 20, 30, 45, 65, 90, 110, 130, 140, 150, 140, 130, 120,
    100, 90, 80, 75, 70, 65, 60, 55, 50, 47, 43, 40, 38, 35, 33, 30, 28, 26,
    24, 22, 20, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 6, 5, 5, 4,
    4, 3, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
  ];

  Plotly.newPlot('medicationsDistributionChart', [{
    x: medXValues,
    y: medYValues,
    mode: 'lines+markers',
    marker: { size: 6, color: '#0077b6' },
    line: { color: '#023e8a', width: 2 },
    name: 'Patients'
  }], {
    title: 'Medications Distribution',
    xaxis: { title: 'Number of Medications', range: [0, 80], dtick: 5, zeroline: false },
    yaxis: { title: 'Patient Count', rangemode: 'tozero', zeroline: true },
    plot_bgcolor: '#f0f8ff',
    paper_bgcolor: '#f0f8ff',
    margin: { t: 50, b: 50 }
  });

  // --- NEW ADDED CHARTS ---

  // Outpatient Visits Distribution (Readmission = Yes)
  const outpatientX = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
    10, 11, 12, 13, 14, 15, 16, 17,
    18, 19, 20, 21, 22, 23, 24, 25,
    26, 27, 28, 29, 30, 31, 32, 33
  ];
  const outpatientY = [
    9263, 1213, 572, 305, 174, 83, 49, 25, 10, 6,
    10, 13, 6, 5, 6, 5, 1, 0, 0, 1,
    2, 0, 0, 1, 0, 0, 0, 2, 0, 0,
    0, 0, 0, 1
  ];

  Plotly.newPlot('outpatientChart', [{
    x: outpatientX,
    y: outpatientY,
    type: 'bar',
    marker: {
      color: outpatientY,
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    },
    text: outpatientY.map(String),
    textposition: 'auto'
  }], {
    xaxis: { title: 'Number of Outpatient Visits' },
    yaxis: { title: 'Patient Count (Readmitted = Yes)' },
    plot_bgcolor: '#e6f2ff',
    paper_bgcolor: '#e6f2ff',
    margin: { t: 40 }
  });

  // Procedures Distribution
  const proceduresX = [0, 1, 2, 3, 4, 5, 6];
  const proceduresY = [11409, 5098, 3064, 2395, 999, 808, 1227];

  Plotly.newPlot('proceduresChart', [{
    x: proceduresX,
    y: proceduresY,
    type: 'bar',
    text: proceduresY.map(String),
    textposition: 'auto',
    marker: {
      color: proceduresY,
      colorscale: 'Viridis',
      colorbar: { title: 'count' }
    }
  }], {
    xaxis: { title: 'Number of Procedures' },
    yaxis: { title: 'Patient Count' },
    plot_bgcolor: '#e6f2ff',
    paper_bgcolor: '#e6f2ff',
    margin: { t: 40 }
  });

</script>

</body>
</html>
